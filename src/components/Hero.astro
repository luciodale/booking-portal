---
interface Props {
  badge?: string;
  title: string;
  titleGradient?: string;
  subtitle?: string;
  showSearch?: boolean;
  backgroundImage?: string;
  height?: "full" | "medium" | "small";
}

const {
  badge,
  title,
  titleGradient,
  subtitle,
  showSearch = false,
  backgroundImage,
  height = "full",
} = Astro.props;

const heightClasses = {
  full: "h-[85vh]",
  medium: "py-24",
  small: "py-16",
};
---

<section
  class:list={[
    "relative flex items-center justify-center overflow-hidden",
    heightClasses[height],
  ]}
>
  <!-- Background -->
  <div class="absolute inset-0">
    <div
      class="absolute inset-0 bg-gradient-to-br from-background via-background/95 to-background/80 z-10"
    >
    </div>
    {
      backgroundImage && (
        <div
          class="absolute inset-0 bg-cover bg-center opacity-30"
          style={`background-image: url('${backgroundImage}')`}
        />
      )
    }

    <!-- Animated gradient orbs -->
    <div
      class="absolute top-1/4 -left-32 w-96 h-96 rounded-full bg-primary/20 blur-[100px] animate-float"
    >
    </div>
    <div
      class="absolute bottom-1/4 -right-32 w-96 h-96 rounded-full bg-accent/20 blur-[100px] animate-float"
      style="animation-delay: -3s"
    >
    </div>
  </div>

  <!-- Content -->
  <div class="relative z-20 container mx-auto px-6 text-center">
    {
      badge && (
        <div class="animate-fade-in opacity-0" style="animation-delay: 0.2s">
          <span class="badge-elite mb-6 inline-flex">
            <svg class="w-3.5 h-3.5" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" />
            </svg>
            {badge}
          </span>
        </div>
      )
    }

    <h1
      class="text-5xl md:text-7xl font-bold mb-6 animate-slide-up opacity-0"
      style="animation-delay: 0.4s"
    >
      <Fragment
        set:html={titleGradient
          ? title.replace(
              titleGradient,
              `<span class="text-gradient">${titleGradient}</span>`,
            )
          : title}
      />
    </h1>

    {
      subtitle && (
        <p
          class="text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto mb-10 animate-slide-up opacity-0"
          style="animation-delay: 0.6s"
        >
          {subtitle}
        </p>
      )
    }

    {
      showSearch && (
        <div
          class="max-w-3xl mx-auto animate-slide-up opacity-0"
          style="animation-delay: 0.8s"
        >
          <div class="glass rounded-2xl p-2">
            <div class="flex flex-col md:flex-row gap-2">
              <div class="flex-1">
                <input
                  type="text"
                  placeholder="Where do you want to go?"
                  class="input !bg-transparent !border-0 !ring-0"
                />
              </div>
              <div class="flex-1">
                <input
                  type="text"
                  placeholder="Check in - Check out"
                  class="input !bg-transparent !border-0 !ring-0"
                />
              </div>
              <div class="flex-1">
                <input
                  type="text"
                  placeholder="Guests"
                  class="input !bg-transparent !border-0 !ring-0"
                />
              </div>
              <button class="btn-primary flex items-center gap-2">
                <svg
                  class="w-5 h-5"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                  />
                </svg>
                Search
              </button>
            </div>
          </div>
        </div>
      )
    }

    <slot />
  </div>

  <!-- Scroll indicator -->
  {
    height === "full" && (
      <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
        <svg
          class="w-6 h-6 text-muted-foreground"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M19 14l-7 7m0 0l-7-7m7 7V3"
          />
        </svg>
      </div>
    )
  }
</section>
