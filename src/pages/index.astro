---
import { mockAssets } from "@/data/mocks";
import PageLayout from "@/layouts/PageLayout.astro";
import Button from "@/modules/ui/astro/Button.astro";
import Heading from "@/modules/ui/astro/Heading.astro";
import Hero from "@/modules/ui/astro/Hero.astro";
import PropertyCard from "@/modules/ui/astro/PropertyCard.astro";

// Transform assets to PropertyCard format
const featuredProperties = mockAssets.slice(0, 6).map((asset) => ({
  asset,
  imageUrl: asset.images[0],
}));

const eliteProperties = featuredProperties.filter(
  (p) => p.asset.tier === "elite",
);
const standardProperties = featuredProperties.filter(
  (p) => p.asset.tier === "standard",
);
---

<PageLayout title="Home">
  <!-- Hero Section -->
  <Hero
    badge="Premium Collection"
    title="Discover Extraordinary Places to Stay"
    titleGradient="Extraordinary"
    subtitle="Direct access to the world's most exclusive properties. No intermediaries, just you and your perfect escape."
    showSearch
    backgroundImage="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=1920&q=80"
  />

  <!-- Elite Collection -->
  <section class="py-20 px-6">
    <div class="container mx-auto">
      <div class="flex items-center justify-between mb-12">
        <div>
          <Heading level={2}>
            <span class="text-gradient">Elite</span> Collection
          </Heading>
          <p class="text-muted-foreground mt-2">
            Curated luxury properties for the discerning traveler
          </p>
        </div>
        <a
          href="/elite"
          class="hidden md:flex items-center gap-2 text-primary hover:text-primary-hover transition-colors group"
        >
          View all
          <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
        </a>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {eliteProperties.map((property) => <PropertyCard {...property} />)}
      </div>
    </div>
  </section>

  <!-- Standard Collection -->
  <section class="py-20 px-6 bg-card">
    <div class="container mx-auto">
      <div class="flex items-center justify-between mb-12">
        <div>
          <Heading level={2}>Standard Collection</Heading>
          <p class="text-muted-foreground mt-2">
            Quality stays at exceptional value
          </p>
        </div>
        <a
          href="/standard"
          class="hidden md:flex items-center gap-2 text-primary hover:text-primary-hover transition-colors group"
        >
          View all
          <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
        </a>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        {standardProperties.map((property) => <PropertyCard {...property} />)}
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-24 px-6 relative overflow-hidden">
    <div class="absolute inset-0">
      <div
        class="absolute top-0 left-1/4 w-96 h-96 rounded-full bg-primary/10 blur-[100px]"
      >
      </div>
      <div
        class="absolute bottom-0 right-1/4 w-96 h-96 rounded-full bg-accent/10 blur-[100px]"
      >
      </div>
    </div>

    <div class="container mx-auto relative z-10 text-center">
      <Heading level={2} class="mb-6">
        Ready to list your <span class="text-gradient">property?</span>
      </Heading>
      <p class="text-lg text-muted-foreground max-w-xl mx-auto mb-10">
        Join our network of elite property managers and reach high-net-worth
        travelers directly.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <Button href="/host">Become a Host</Button>
        <Button variant="secondary" href="/about">Learn More</Button>
      </div>
    </div>
  </section>
</PageLayout>
