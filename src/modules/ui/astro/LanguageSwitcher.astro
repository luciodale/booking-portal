---
import type { Locale } from "@/i18n/types";

// biome-ignore lint/correctness/noUnusedVariables: Astro Props typing
interface Props {
  locale: Locale;
}

// biome-ignore lint/correctness/noUnusedVariables: used in template
const { locale } = Astro.props;
// biome-ignore lint/correctness/noUnusedVariables: used in template
const currentPath = Astro.url.pathname;
// biome-ignore lint/correctness/noUnusedVariables: used in template
const search = Astro.url.search;
---

<div class="flex items-center gap-2 text-sm text-muted-foreground">
  {locales.map((targetLocale) => {
    const href = switchLocale(currentPath, targetLocale) + search;
    const isActive = targetLocale === locale;
    return (
      <a
        href={href}
        class:list={[
          "transition-colors",
          isActive ? "text-foreground font-medium" : "hover:text-foreground",
        ]}
        aria-current={isActive ? "true" : undefined}
      >
        {targetLocale.toUpperCase()}
      </a>
    );
  })}
</div>
