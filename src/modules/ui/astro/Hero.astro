---
// biome-ignore lint/correctness/noUnusedVariables: Astro Props typing
interface Props {
  badge?: string;
  title: string;
  titleGradient?: string;
  subtitle?: string;
  cityName?: string | null;
  backgroundImage?: string;
  height?: "full" | "medium" | "small";
}

const {
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  badge,
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  title,
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  titleGradient,
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  subtitle,
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  cityName,
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  backgroundImage,
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  height = "full",
} = Astro.props;

// biome-ignore lint/correctness/noUnusedVariables: used in template
const heightClasses = {
  full: "h-[85vh]",
  medium: "py-24",
  small: "py-16",
};
---

<section
  class:list={[
    "relative flex items-center justify-center overflow-hidden",
    heightClasses[height],
  ]}
>
  <!-- Background -->
  <div class="absolute inset-0">
    <div
      class="absolute inset-0 bg-gradient-to-br from-background via-background/95 to-background/80 z-10"
    >
    </div>
    {
      backgroundImage && (
        <div
          class="absolute inset-0 bg-cover bg-center opacity-30"
          style={`background-image: url('${backgroundImage}')`}
        />
      )
    }

    <!-- Animated gradient orbs -->
    <div
      class="absolute top-1/4 -left-32 w-96 h-96 rounded-full bg-primary/20 blur-[100px] animate-float"
    >
    </div>
    <div
      class="absolute bottom-1/4 -right-32 w-96 h-96 rounded-full bg-accent/20 blur-[100px] animate-float"
      style="animation-delay: -3s"
    >
    </div>
  </div>

  <!-- Content -->
  <div class="relative z-20 container mx-auto px-6 text-center">
    {
      badge && (
        <div class="animate-fade-in opacity-0" style="animation-delay: 0.2s">
          <span class="badge-elite mb-6 inline-flex">
            <i data-lucide="star" class="w-3.5 h-3.5 fill-current" />
            {badge}
          </span>
        </div>
      )
    }

    <h1
      class="text-5xl md:text-7xl font-bold mb-6 animate-slide-up opacity-0"
      style="animation-delay: 0.4s"
    >
      <Fragment
        set:html={titleGradient
          ? title.replace(
              titleGradient,
              `<span class="text-gradient">${titleGradient}</span>`,
            )
          : title}
      />
    </h1>

    {
      cityName ? (
        <p
          class="text-4xl md:text-6xl font-bold text-primary mb-6 animate-slide-up opacity-0"
          style="animation-delay: 0.5s"
        >
          {cityName}
        </p>
      ) : subtitle ? (
        <p
          class="text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto mb-10 animate-slide-up opacity-0"
          style="animation-delay: 0.6s"
        >
          {subtitle}
        </p>
      ) : null
    }

    <slot />
  </div>

  <!-- Scroll indicator -->
  {
    height === "full" && (
      <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
        <i data-lucide="arrow-down" class="w-6 h-6 text-muted-foreground" />
      </div>
    )
  }
</section>
