---
// biome-ignore lint/correctness/noUnusedVariables: Astro Props typing
interface Props {
  name: string;
  label?: string;
  type?: "text" | "email" | "password" | "number" | "tel" | "url";
  placeholder?: string;
  value?: string;
  required?: boolean;
  disabled?: boolean;
  class?: string;
}

const {
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  name,
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  label,
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  type = "text",
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  placeholder,
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  value,
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  required = false,
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  disabled = false,
  // biome-ignore lint/correctness/noUnusedVariables: used in template
  class: className,
} = Astro.props;
---

<div class:list={["form-field", className]}>
    {
        label && (
            <label
                for={name}
                class="block text-sm text-muted-foreground mb-2.5 font-medium"
            >
                {label}
                {required && <span class="text-error ml-1">*</span>}
            </label>
        )
    }
    <input
        type={type}
        id={name}
        name={name}
        placeholder={placeholder}
        value={value}
        required={required}
        disabled={disabled}
        class:list={[
            "w-full px-4 py-3.5 rounded-xl text-foreground",
            "bg-secondary border border-border/50",
            "placeholder:text-muted-foreground",
            "transition-all duration-200",
            "focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary",
            "hover:bg-card-hover",
            "disabled:opacity-50 disabled:cursor-not-allowed",
        ]}
    />
</div>

<style>
    .form-field input:focus {
        box-shadow: 0 0 0 3px var(--color-primary-hover, oklch(0.8 0.14 85)) /
            0.15;
    }
</style>
